<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>World Map</title>
		<link href="/style.css" rel="stylesheet" type="text/css" media="all">
		<style>
			html, body {margin: 0; height: 100%; overflow: hidden}
			.hideable{display:none;}
			#Weather, #Calendar, #TripDistance, #TripTime {color:white; text-align: left;}
			/* .map img {
				filter:brightness(0.5) grayscale(0);
			} */

			.ocean{
				background: linear-gradient(297deg, #25325f 25%, #667dcc 49%, #ffffff 50%, #667dcc 51%, #25325f 75%);
				background-size: 10% 10%;
				-webkit-animation: Ocean 34s ease infinite;
				-moz-animation: Ocean 34s ease infinite;
				animation: Ocean 34s ease infinite;
			}
			@-webkit-keyframes Ocean {
				0%{background-position:60% 0%}
				50%{background-position:41% 100%}
				100%{background-position:60% 0%}
			}
			@-moz-keyframes Ocean {
				0%{background-position:60% 0%}
				50%{background-position:41% 100%}
				100%{background-position:60% 0%}
			}
			@keyframes Ocean {
				0%{background-position:60% 0%}
				50%{background-position:41% 100%}
				100%{background-position:60% 0%}
			}

			.testdiv {
				height:100%;
				border-left:3px solid white;
				color:white;
				padding-left:3px;
				position:absolute;
				top:0px;
				line-height:1000px;
			}

			.map-controls span {
				color:white;
				text-shadow:2 2 0px black,
				2 0 0px black,
				0 2 0px black,
				-2 2 0px black,
				2 -2 0px black,
				-2 0 0px black,
				0 -2 0px black;
			}

			.border{
				border:20px solid;
				border-image:url("/img/uiborder.svg");
				height:10%;
				position:absolute;
				top:45%;
				width:500px;
				border-image-slice:50;
				z-index:5;
				background:#245659;
				border-radius:40px;
				color:#f8ffff;
				text-shadow:1px 1px 0px black,
				1px 0px 0px black,
				0px 1px 0px black,
				-1px 1px 0px black,
				-1px -1px 0px black,
				-1px 0px 0px black,
				1px -1px 0px black,
				0px -1px 0px black;

			}
		</style>
		<script
			src="https://code.jquery.com/jquery-3.3.1.js"
			integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
			crossorigin="anonymous"></script>
		<script
			src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"
			integrity="sha256-0YPKAwZP7Mp3ALMRVB2i8GXeEndvCq3eSl/WsAl1Ryk="
			crossorigin="anonymous"></script>
		<script
			src="https://unpkg.com/react@16/umd/react.production.min.js" crossorigin></script>
		<script
			src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js" crossorigin></script>
		<script
			src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

		<script src="/dnd/res/js/mechanics.js"></script>
		<script src="/dnd/res/js/map.js"></script>
		<script src="/dnd/res/js/objects/calendar.js"></script>
		<script src="/dnd/res/js/generators/weather.js"></script>
		<script>
			$(document).ready(function(){
				var calendar = new GeossCalendar(undefined, 11, 15);
				var weather = new Weather();
				$("#Corruption").click(function(){
					if($("#Corruption").text() == 'Corruption Hidden'){
						$("#Corruption").text('Corruption Shown');
						$('#CorruptionMap').css("display","block");
					} else {
						$("#Corruption").text('Corruption Hidden');
						$('#CorruptionMap').css("display","none");
					}
				});
				$("#Airships").click(function(){
					if($("#Airships").text() == 'Airships Hidden'){
						$("#Airships").text('Airships Shown');
						$('.airship.npc.hideable').css("display","block");
					} else {
						$("#Airships").text('Airships Hidden');
						$('.airship.npc.hideable').css("display","none");
					}
				});
				$("#NotableNPCs").click(function(){
					if($("#NotableNPCs").text() == 'Notable NPCs Hidden'){
						$("#NotableNPCs").text('Notable NPCs Shown');
						$('.pedestrian.npc.hideable').css("display","block");
					} else {
						$("#NotableNPCs").text('Notable NPCs Hidden');
						$('.pedestrian.npc.hideable').css("display","none");
					}
				});
				$("body").on("dragstop", ".airship.party", function(){
					calendar.addHours(parseFloat($("#TripTime").text()));
					$("#Calendar").text(calendar.getTime() + ' ' + calendar.getDisplayDate());
					setTimeout(() => {
						$("#TripTime").text("");
						$("#TripDistance").text("");
					}, 3000);
				});
				$("#Calendar").text(calendar.getTime() + ' ' + calendar.getDisplayDate());
				$("#Weather").text(weather.weather + ', Wind: ' + weather.winds);
				// Airship("43.5%", "39%");
				// Airship("48.5%", "50%");
				// Pedestrian("50%", "50%");
				// Pedestrian("47.1%", "38.5%", ["Jasper", "Shamous"], ["/img/maps/icons/jasper.png", "/img/maps/icons/Shamous.png"]);
				// PedestrianNPC("47.2%", "28.7%", "Smith", "/img/maps/icons/smith.png");
				// PedestrianNPC("47.3%", "31.8%", "Matthias", "/img/maps/icons/matthias.png");
				// PedestrianNPC("47%", "27.7%", "Quintus", "/img/maps/icons/quintus.png");
			})
		</script>
	</head>

	<body id="map-body" style="overflow: hidden; background:#25325f;">
	<!-- <body id="map-body" style="overflow: hidden;" class="ocean"> -->
		<div class="map-controls" style="z-index: 2; padding-left:20px;">
			- <input type="range" min="100" max="500" value="100" class="slider" id="map-zoom"> +
			<input type="number" name="previous-zoom" id="previous-zoom" value="105" style="display:none;"/>
			<button id="Corruption">Corruption Hidden</button>
			<button id="Airships">Airships Hidden</button>
			<button id="NotableNPCs">Notable NPCs Hidden</button>
			<span id="Left"></span>
			<span id="CenterX"></span>
			<span id="ScreenSize"></span>
			<span id="PrevScreenSize"></span>
			<span id="ClientSize"></span>
		</div>
		<div style="width:10px; height:10px; position:absolute; top:50%; left:50%; pointer-events: none; transform:translate(-50%, -50%); background:red; border-radius:50%; z-index:3; border:1px solid black;">
			&#160;
		</div>
		<div id="zoom-container">
			<div id="map-container" class="map-container map" style="background-image:url('/img/maps/WorldMap.png'); background-repeat: no-repeat; background-size: contain; width:2000px; height:1000px; text-align: center; transform-origin:center center;">


				<div class="border" style="position:absolute; left:1000px;">X=1000px</div>


				<div class="testdiv" style="left:0px;">X=0px</div>
				<div class="testdiv" style="left:100px;">X=100px</div>
				<div class="testdiv" style="left:200px;">X=200px</div>
				<div class="testdiv" style="left:300px;">X=300px</div>
				<div class="testdiv" style="left:400px;">X=400px</div>
				<div class="testdiv" style="left:500px;">X=500px</div>
				<div class="testdiv" style="left:600px;">X=600px</div>
				<div class="testdiv" style="left:700px;">X=700px</div>
				<div class="testdiv" style="left:800px;">X=800px</div>
				<div class="testdiv" style="left:900px;">X=900px</div>
				<div class="testdiv" style="left:1000px;">X=1000px</div>
				<div class="testdiv" style="left:1100px;">X=1100px</div>
				<div class="testdiv" style="left:1200px;">X=1200px</div>
				<div class="testdiv" style="left:1300px;">X=1300px</div>
				<div class="testdiv" style="left:1400px;">X=1400px</div>
				<div class="testdiv" style="left:1500px;">X=1500px</div>
				<div class="testdiv" style="left:1600px;">X=1600px</div>
				<div class="testdiv" style="left:1700px;">X=1700px</div>
				<div class="testdiv" style="left:1800px;">X=1800px</div>
				<div class="testdiv" style="left:1900px;">X=1900px</div>
				<div class="testdiv" style="left:2000px;">X=2000px</div>
			</div>
		</div>
	</body>

</html>